
<html>

<body>
    <div>
<%- include partials/head.ejs %>
    </div>

    <div class="header-blue">
        <div class="container " style="padding:15px 15px;padding-top:30px;padding-bottom:200px; ">
          <%- include partials/breadcrumb.ejs%>
            <div>


                        <div class="card-body" style="background-color:white;">
                          <h1 bold>User Information</h1>
                          <form action="/editUser/<%=id%>" method="post" class="" style="width:50%;height:125%;padding:20px;margin:20px;background-color:rgb(255,255,255);">
                          <% if (user.local.role == 'admin' || user.local.role == 'engineer') { %>



                              <div style="margin:20px; margin-left:0px;"><p>ID</p></div>
                              <div> <input type="text" class="form-control" name="id" value="<%= id %>" readonly> </div>
                              <div style="margin:20px; margin-left:0px;"><p>First Name</p></div>
                              <div> <input type="text" class="form-control" name="userFName" value="<%=userFName %>" required></div>
                              <div style="margin:20px; margin-left:0px;"><p>Last name</p></div>
                              <div> <input type="text" class="form-control" name="userLName" value="<%=userLName %>" required></div>
                              <div style="margin:20px; margin-left:0px;"><p>Email</p></div>
                              <div> <input type="text" class="form-control" name="userEmail" value="<%=userEmail %>" readonly></div>
                              <div style="margin:20px; margin-left:0px;"><p>Phone Number</p></div>
                              <div> <input type="text" class="form-control" name="userPhone" value="<%=userPhone %>" pattern="\d{3}[\-]\d{3}[\-]\d{4}" required></div>
                              <div style="margin:20px; margin-left:0px;"><p>Street</p></div>
                              <div> <input type="text" class="form-control" name="userStreet" value="<%=userStreet %>" required></div>
                              <div style="margin:20px; margin-left:0px;"><p>City</p></div>
                              <div> <input type="text" class="form-control" name="userCity" value="<%=userCity %>" required></div>
                              <div style="margin:20px; margin-left:0px;"><p>State</p></div>
                              <div>
                                <select class="form-control form-group" name="userState">
                                                            <option value ="<%=userState%>"><%=userState%></option>
                                                            <option value="AL">Alabama</option>
                                                            <option value="AK">Alaska</option>
                                                            <option value="AZ">Arizona</option>
                                                            <option value="AR">Arkansas</option>
                                                            <option value="CA">California</option>
                                                            <option value="CO">Colorado</option>
                                                            <option value="CT">Connecticut</option>
                                                            <option value="DE">Delaware</option>
                                                            <option value="DC">District Of Columbia</option>
                                                            <option value="FL">Florida</option>
                                                            <option value="GA">Georgia</option>
                                                            <option value="HI">Hawaii</option>
                                                            <option value="ID">Idaho</option>
                                                            <option value="IL">Illinois</option>
                                                            <option value="IN">Indiana</option>
                                                            <option value="IA">Iowa</option>
                                                            <option value="KS">Kansas</option>
                                                            <option value="KY">Kentucky</option>
                                                            <option value="LA">Louisiana</option>
                                                            <option value="ME">Maine</option>
                                                            <option value="MD">Maryland</option>
                                                            <option value="MA">Massachusetts</option>
                                                            <option value="MI">Michigan</option>
                                                            <option value="MN">Minnesota</option>
                                                            <option value="MS">Mississippi</option>
                                                            <option value="MO">Missouri</option>
                                                            <option value="MT">Montana</option>
                                                            <option value="NE">Nebraska</option>
                                                            <option value="NV">Nevada</option>
                                                            <option value="NH">New Hampshire</option>
                                                            <option value="NJ">New Jersey</option>
                                                            <option value="NM">New Mexico</option>
                                                            <option value="NY">New York</option>
                                                            <option value="NC">North Carolina</option>
                                                            <option value="ND">North Dakota</option>
                                                            <option value="OH">Ohio</option>
                                                            <option value="OK">Oklahoma</option>
                                                            <option value="OR">Oregon</option>
                                                            <option value="PA">Pennsylvania</option>
                                                            <option value="RI">Rhode Island</option>
                                                            <option value="SC">South Carolina</option>
                                                            <option value="SD">South Dakota</option>
                                                            <option value="TN">Tennessee</option>
                                                            <option value="TX">Texas</option>
                                                            <option value="UT">Utah</option>
                                                            <option value="VT">Vermont</option>
                                                            <option value="VA">Virginia</option>
                                                            <option value="WA">Washington</option>
                                                            <option value="WV">West Virginia</option>
                                                            <option value="WI">Wisconsin</option>
                                                            <option value="WY">Wyoming</option>
                                                          </select>

                              </div>
                              <div style="margin:20px; margin-left:0px;"><p>Zip</p></div>
                              <div> <input type="text" class="form-control" name="userZip" value="<%=userZip %>" pattern="(\d{5}([\-]\d{4})?)" required></div>
                              <div style="margin:20px; margin-left:0px;"><p>Contract</p></div>
                              <div> <input type="radio" name="userContract" value="true" <%if (userContract){%> checked
                                <%}%> > Yes<br>
                                  <input type="radio" name="userContract" value="false" <%if (!userContract){%> checked
                                  <%}%> > No <br></div>
                              <div style="margin:20px; margin-left:0px;"><p>Role</p></div>
                              <% if (user.id == id) { %>
                                <div> <input type="text" class="form-control" name="userRole" value="<%= userRole %>" readonly> </div>

                                <% } else { %>
                                  <div> <select class="form-control form-group" name="userRole" value="<%userRole%>">
                                  <option value=<%= userRole%>> <% if (userRole == "user") { %> client <%} else{%> <%=userRole%>  <%}%> </option>
                                  <option value="user">Client</option>
                                  <option value="engineer">Engineer</option>
                                  <option value="finance">Finance</option>
                                  <option value="admin">Admin</option>
                                </select></div>
                              <div style="margin:20px; margin-left:0px;"><p>Banned</p></div>
                                  <% if ((userRole != 'admin' && userRole != 'super') || user.local.role == "engineer") {%>
                                    <div> <input type="radio" name="userBan" value="true" <%if (userBan){%> checked
                                      <%}%> > Yes<br>
                                        <input type="radio" name="userBan" value="false" <%if (!userBan){%> checked
                                        <%}%> > No<br></div>

                                    <%}%>
                                      <% } %>

                                        <% } else if (user.local.role == 'user') { %>
                                          <p name="id" hidden>
                                            <%=id%>
                                          </p>
                              <div style="margin:20px; margin-left:0px;"><p>First Name</p></div>
                                          <div> <input type="text" class="form-control" name="userFName" value="<%=userFName %>" required></div>
                              <div style="margin:20px; margin-left:0px;"><p>Last name</p></div>
                                          <div> <input type="text" class="form-control" name="userLName" value="<%=userLName %>" required></div>
                              <div style="margin:20px; margin-left:0px;"><p>Email</p></div>
                                          <div> <input type="text" class="form-control" name="userEmail" value="<%=userEmail %>" readonly></div>
                              <div style="margin:20px; margin-left:0px;"><p>Phone</p></div>
                                          <div> <input type="text" class="form-control" name="userPhone" value="<%=userPhone %>" pattern="\d{3}[\-]\d{3}[\-]\d{4}" required></div>
                              <div style="margin:20px; margin-left:0px;"><p>Street</p></div>
                                          <div> <input type="text" class="form-control" name="userStreet" value="<%=userStreet %>" required></div>
                              <div style="margin:20px; margin-left:0px;"><p>City</p></div>
                                          <div> <input type="text" class="form-control" name="userCity" value="<%=userCity %>" required></div>
                              <div style="margin:20px; margin-left:0px;"><p>State</p></div>
                                          <div>
                                            <select type="text" class="form-control form-group" name="userState">
                                                            <option value ="<%=userState%>"><%=userState%></option>
                                                            <option value="AL">Alabama</option>
                                                            <option value="AK">Alaska</option>
                                                            <option value="AZ">Arizona</option>
                                                            <option value="AR">Arkansas</option>
                                                            <option value="CA">California</option>
                                                            <option value="CO">Colorado</option>
                                                            <option value="CT">Connecticut</option>
                                                            <option value="DE">Delaware</option>
                                                            <option value="DC">District Of Columbia</option>
                                                            <option value="FL">Florida</option>
                                                            <option value="GA">Georgia</option>
                                                            <option value="HI">Hawaii</option>
                                                            <option value="ID">Idaho</option>
                                                            <option value="IL">Illinois</option>
                                                            <option value="IN">Indiana</option>
                                                            <option value="IA">Iowa</option>
                                                            <option value="KS">Kansas</option>
                                                            <option value="KY">Kentucky</option>
                                                            <option value="LA">Louisiana</option>
                                                            <option value="ME">Maine</option>
                                                            <option value="MD">Maryland</option>
                                                            <option value="MA">Massachusetts</option>
                                                            <option value="MI">Michigan</option>
                                                            <option value="MN">Minnesota</option>
                                                            <option value="MS">Mississippi</option>
                                                            <option value="MO">Missouri</option>
                                                            <option value="MT">Montana</option>
                                                            <option value="NE">Nebraska</option>
                                                            <option value="NV">Nevada</option>
                                                            <option value="NH">New Hampshire</option>
                                                            <option value="NJ">New Jersey</option>
                                                            <option value="NM">New Mexico</option>
                                                            <option value="NY">New York</option>
                                                            <option value="NC">North Carolina</option>
                                                            <option value="ND">North Dakota</option>
                                                            <option value="OH">Ohio</option>
                                                            <option value="OK">Oklahoma</option>
                                                            <option value="OR">Oregon</option>
                                                            <option value="PA">Pennsylvania</option>
                                                            <option value="RI">Rhode Island</option>
                                                            <option value="SC">South Carolina</option>
                                                            <option value="SD">South Dakota</option>
                                                            <option value="TN">Tennessee</option>
                                                            <option value="TX">Texas</option>
                                                            <option value="UT">Utah</option>
                                                            <option value="VT">Vermont</option>
                                                            <option value="VA">Virginia</option>
                                                            <option value="WA">Washington</option>
                                                            <option value="WV">West Virginia</option>
                                                            <option value="WI">Wisconsin</option>
                                                            <option value="WY">Wyoming</option>
                                                          </select>
                                          </div>
                              <div style="margin:20px; margin-left:0px;"><p>Zip</p></div>
                                          <div> <input type="text" class="form-control" name="userZip" value="<%=userZip %>" pattern="(\d{5}([\-]\d{4})?)" required></div>
                              <div style="margin:20px; margin-left:0px;"><p>Contract</p></div>
                                          <div> <input type="text" class="form-control" name="userContract" value="<%= userContract %>" readonly></div>
                              <div style="margin:20px; margin-left:0px;"><p>Role</p></div>
                                          <div> <input type="text" class="form-control" name="userRole" value="<%= userRole %>" readonly> </div>

                                          <input type="text" class="form-control" name="userBan" value="<%= userBan %>" readonly hidden>

                                          <% } else { %>
                                            <p>Hey terra!</p>
                                            <% } %>
                                            <div style="margin-top:20">
                                              <button class="btn btn-primary " type="submit" style="background-color:rgb(4,148,74);">Submit</button>

                                            </div>


                          </form>
                          <% if(user.id == id) {%>
                          <a href="/editPassword/<%=id%>"><button class="btn btn-primary" style="background-color:rgb(4,148,74);"> Edit Password </button></a>
                          <%}%>


                        </div>

                    </div>

                </div>

    </div>
    <div class="footer-clean">
        <footer>
            <div class="container" style="width:960px;">
                <div class="row justify-content-center">
                    <div class="col-sm-4 col-md-3 item"><img src="assets/img/Marshell-University-logo.png" align="left" />
                        <ul>
                            <li></li>
                        </ul>
                    </div>
                    <div class="col-sm-4 col-md-3 item">
                        <h3 class="text-center" style="padding:12px;">About Us</h3>
                    </div>
                    <div class="col-sm-4 col-md-3 item">
                        <h3 class="text-center" style="padding:12px;">Contact Us</h3>
                    </div>
                    <div class="col"><img src="assets/img/RCBILogo.png" align="right" /></div>
                </div>
            </div>
            <div class="container">
                <div>
                    <div class="row justify-content-center"><div class="col-lg-3 justify-content-center align-items-center align-content-center align-self-center order-1 item social"><a href="#" style="margin:0px;">

        <p class="text-center copyright" style="font-family:&#39;Source Sans Pro&#39;, sans-serif;">© 2007-2018 RCBI</p>
</div></div>
                </div>
            </div>
        </footer>
    </div>
    <script src="assets/js/jquery.min.js"></script>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/bs-animation.js"></script>
</body>

<script>

var password = document.getElementById("password")
  , confirm_password = document.getElementById("passwordConfirm");

function validatePassword(){
  if(password.value != confirm_password.value) {
    confirm_password.setCustomValidity("Passwords Don't Match");
  } else {
    confirm_password.setCustomValidity('');
  }
}

password.onchange = validatePassword;
confirm_password.onkeyup = validatePassword;

</script>

</html>
